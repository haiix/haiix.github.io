<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta charset="UTF-8">
    <meta name="Description" content="Module">
    <title>Module</title>
    <script>
      window.onerror = function (message, fileName, lineNo, colNo, error) {
        'use strict';
        var consoleElem = document.getElementById('console');
        if (!consoleElem) {
          document.body.insertAdjacentHTML('afterbegin', '<pre id="console"></pre>');
          consoleElem = document.body.firstElementChild;
        }
        var stack = error.stack || message;
        if (fileName != null) {
          stack = stack.split('\n');
          stack.splice(1, 0, '    at ' + fileName + ':' + lineNo + ':' + colNo);
          stack = stack.join('\n');
        }
        consoleElem.insertAdjacentHTML('beforeend', '<div class="error">' + stack + '</div>');
      }
    </script>
    <link rel="stylesheet" href="style/main.css" onerror="throw new Error('Load failed: ' + event.target.href)">
  </head>
  <body>
    <script nomodule src="./js/lib/nomodule.js" onerror="throw Error('Load failed')"></script>
    <script type="module" onerror="throw new Error('Load failed');">
      import Main from './js/Main.js';
      const main = new Main();
      main.main().catch(function (error) {
        window.onerror(null, null, null, null, error);
      });
    </script>
  </body>
</html>